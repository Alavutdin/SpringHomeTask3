# Урок 3. Использование Spring для разработки серверного приложения


 Цель урока
Клиент-сервер 

Протоколы 

REST API 

Виды HTTP-запросов и коды ответов: когда и что использовать 

Структура запроса 

Spring 

Контроллеры в Spring 

# Протоколы

Основы клиент-серверного взаимодействия, мы можем перейти к
протоколам, которые используются в этом взаимодействии. Возможно, вы слышали
о некоторых из них, таких как HTTP, HTTPS и WebSocket

# HTTP и HTTPS

HTTP, или гипертекстовый протокол передачи данных, – это основной протокол,
используемый в вебе для передачи данных. Представьте это как почтовую систему
Интернета. Когда вы отправляете запрос на получение веб-страницы, вы, по сути,
отправляете письмо серверу с просьбой отправить вам веб-страницу.

# HTTPS  
это просто защищенная версия HTTP. Это все еще та же почтовая система,
но теперь все ваши письма запечатаны в безопасные конверты, которые никто не
может прочитать, кроме получателя. Иными словами, HTTPS использует
шифрование для защиты данных от перехвата.


# WebSocket

WebSocket – это другой протокол, который предназначен для обеспечения
двусторонней связи между клиентом и сервером. Если HTTP можно представить
как почтовую систему, то WebSocket больше похож на телефонный разговор. Вместо
того чтобы отправлять и получать письма, вы просто звоните и можете говорить в
обе стороны в реальном времени.

# gRPC

Еще один протокол, который стоит упомянуть, – это gRPC от Google. Он
поддерживает множество языков программирования и позволяет клиентам и
серверам обмениваться данными как через единственный запрос/ответ, так и через
потоковые вызовы. Если бы мы сравнивали его с чем-то, то это был бы электронный
курьер, который может переносить любой тип пакета очень быстро.

# REST API

Существует множество протоколов и архитектурных стилей для создания
веб-приложений, но мы сосредоточимся на одном из самых популярных - REST.

## HTTP-методы

HTTP определяет ряд методов, которые соответствуют различным операциям,
которые можно выполнить с ресурсом:

### • GET: 
Используется для запроса данных с сервера. Это как спросить: “Привет,
сервер, можно я посмотрю эту веб-страницу?”
### • POST: 
Используется для отправки данных на сервер, чтобы создать новый
ресурс. Это как сказать: “Привет, сервер, вот новые данные, добавь их,
пожалуйста, в свою базу данных.”
### • PUT: 
Используется для обновления существующего ресурса на сервере. Это
как сказать: “Привет, сервер, вот обновленные данные, пожалуйста, замени
ими старые.”
### • DELETE: 
Используется для удаления ресурса на сервере. Это как сказать:
“Привет, сервер, пожалуйста, удали эти данные.”

## HTTP-коды ответов

HTTP-коды ответов – это трехзначные числа, которые сервер возвращает, чтобы
указать, что произошло с запросом. Вот несколько наиболее часто встречающихся:
### • 200 OK: 
Запрос был успешно обработан. Это как “Ваша операция прошла
успешно!”
### • 201 Created: 
Запрос был успешно обработан, и был создан новый ресурс. Это
как “Я создал новые данные, которые вы просили!”
### • 400 Bad Request: 
Запрос неправильно сформирован и сервер не может его
обработать. Это как “Я не понимаю, что вы просите.”
### • 404 Not Found: 
Запрошенный ресурс не найден на сервере. Это как
“Извините, я не могу найти данные, которые вы просили.”
### • 500 Internal Server Error: 
На сервере произошла ошибка при обработке
запроса. Это как “У меня возникла проблема, и я не смог обработать ваш
запрос.”

## Аннотации

# Аннотация @Controller

Основой любого контроллера в Spring является аннотация `@Controller`. Она
говорит Spring'у, что данный класс является контроллером, и должен быть
использован для обработки входящих HTTP-запросов.

# Аннотация @RequestMapping

Для указания, какой тип запроса и какой URL должен обрабатывать конкретный
метод, используется аннотация `@RequestMapping`. Она может быть использована
на уровне класса (для указания общего префикса URL для всех методов
контроллера) и на уровне метода (для указания конкретного URL и метода HTTP).

## Обрабатываем исключения

Ошибки и исключения — это неизбежная часть любого приложения. В Spring мы
можем использовать аннотацию @ExceptionHandler для определения методов,
которые будут обрабатывать определенные исключения.

## Обрабатываем JSON

Большинство RESTful API используют JSON для обмена данными. Spring
автоматически преобразует объекты в JSON и наоборот. Все, что нам нужно
сделать, это использовать аннотацию @RequestBody для принятия JSON в качестве
входных данных и возвращать объекты из наших обработчиков.

## Docker

Развертывание наших приложений. Здесь мы столкнемся с Docker, одним из наиболее популярных
инструментов в современной разработке программного обеспечения.


Docker — это открытая платформа для разработки, доставки и запуска приложений.
Docker позволяет “упаковать” приложение вместе со всем его окружением в
контейнер, который можно легко перенести на любую машину, которая
поддерживает Docker. Это решает проблему “у меня на машине все работает”, так
как Docker-контейнер содержит все, что нужно для работы вашего приложения.

# Важность Docker для разработчиков

### 1. Постоянство: 
Docker гарантирует, что ваше приложение будет работать
   одинаково в любой среде.
### 2. Изоляция:
каждый Docker-контейнер работает независимо, поэтому вы
   можете запускать разные приложения с разными требованиями на одной
   машине.
### 3. Быстрое развертывание: 
с Docker вы можете быстро и легко развернуть и
   масштабировать свое приложение.
### 4. Управление зависимостями:
вместо того, чтобы устанавливать все
   зависимости на вашей машине, вы можете упаковать их вместе с
   приложением в Docker-контейнер.